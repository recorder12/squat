(this.webpackJsonpsquart=this.webpackJsonpsquart||[]).push([[0],{294:function(e,t){},295:function(e,t){},303:function(e,t){},306:function(e,t){},307:function(e,t){},318:function(e,t){},326:function(e,t,n){},327:function(e,t,n){"use strict";n.r(t);var a=n(31),c=n.n(a),s=n(261),i=n.n(s),r=n(6),o=n(154),u=n(50),d=n(4),l=n.n(d),j=n(12),b=n(164),p=(n(287),n(328),{apiKey:"AIzaSyAazUt3acVM4gtILhT1XyMalwdglCeQqlc",authDomain:"squart-ad5a9.firebaseapp.com",databaseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/squat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyAazUt3acVM4gtILhT1XyMalwdglCeQqlc",REACT_APP_AUTH_DOMAIN:"squart-ad5a9.firebaseapp.com",REACT_APP_PROJECT_ID:"squart-ad5a9",REACT_APP_STORAGE_BUCKET:"quart-ad5a9.appspot.com",REACT_APP_MESSAGE_ID:"386121003304",REACT_APP_APP_ID:"1:386121003304:web:065140ff988d4b0d2be01d",REACT_APP_MEASUREMENT_ID:"G-H354T1CCJN"}).REACT_APP_DATABASE_URL,projectId:"squart-ad5a9",storageBucket:"quart-ad5a9.appspot.com",messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/squat",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyAazUt3acVM4gtILhT1XyMalwdglCeQqlc",REACT_APP_AUTH_DOMAIN:"squart-ad5a9.firebaseapp.com",REACT_APP_PROJECT_ID:"squart-ad5a9",REACT_APP_STORAGE_BUCKET:"quart-ad5a9.appspot.com",REACT_APP_MESSAGE_ID:"386121003304",REACT_APP_APP_ID:"1:386121003304:web:065140ff988d4b0d2be01d",REACT_APP_MEASUREMENT_ID:"G-H354T1CCJN"}).REACT_APP_MESSAGIN_ID,appId:"1:386121003304:web:065140ff988d4b0d2be01d"});b.a.initializeApp(p);var O,h,f,m=b.a,x=b.a.auth(),_=b.a.firestore(),g=n(29),A=function(){var e=Object(a.useState)(""),t=Object(r.a)(e,2),n=(t[0],t[1],Object(a.useState)("")),c=Object(r.a)(n,2),s=(c[0],c[1],Object(a.useState)(!0)),i=Object(r.a)(s,2),o=(i[0],i[1],Object(a.useState)("")),u=Object(r.a)(o,2),d=(u[0],u[1],function(){var e=Object(j.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===(n=t.target.name)?a=new m.auth.GoogleAuthProvider:"github"===n&&(a=new m.auth.GithubAuthProvider),e.next=4,x.signInWithPopup(a);case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(g.jsxs)("div",{className:"login_page",children:[Object(g.jsx)("div",{class:"title",children:"Who is Squat King in this ground?! "}),Object(g.jsx)("div",{class:"description",children:"(Squat Competetion with AI)"}),Object(g.jsxs)("div",{class:"auth",children:[Object(g.jsx)("button",{className:"google",onClick:d,name:"google",children:"Continue with Google"}),Object(g.jsx)("button",{className:"github",onClick:d,name:"github",children:"Continue with Github"})]})]})},v=n(20),E=n(211),S=(n(166),n(165)),T="https://teachablemachine.withgoogle.com/models/aj8L1qvCM/",y="stand",P="Ready!!",C=0,w=T+"model.json",I=T+"metadata.json",N=450,R=new Date,q=function(e){var t=e.userObj,n=document.getElementById("score"),c=document.getElementById("sentence"),s=Object(a.useState)(""),i=Object(r.a)(s,2),o=(i[0],i[1],Object(a.useState)([])),u=Object(r.a)(o,2),d=u[0],b=u[1],p=function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.collection("nweets").orderBy("text").limit(20).get();case 2:e.sent.forEach((function(e){var t=Object(E.a)(Object(E.a)({},e.data()),{},{id:e.id});b((function(e){return[t].concat(Object(v.a)(e))}))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){p()}),[]);var m=Object(a.useState)(t.displayName),x=Object(r.a)(m,2);x[0],x[1];function A(){return(A=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.load(w,I);case 2:return O=e.sent,O.getTotalClasses(),n=document.getElementById("score"),c=document.getElementById("sentence"),P="Start!!",c.innerHTML=P,h=new S.Webcam(N,N,true),e.next=11,h.setup();case 11:return e.next=13,h.play();case 13:window.requestAnimationFrame(T),R=new Date,(t=document.getElementById("canvas")).width=N,t.height=N,f=t.getContext("2d");case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return q.apply(this,arguments)}function q(){return(q=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.update(),e.next=3,D();case 3:window.requestAnimationFrame(T);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return k.apply(this,arguments)}function k(){return(k=Object(j.a)(l.a.mark((function e(){var t,a,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.getElementById("score"),c=document.getElementById("sentence"),e.next=4,O.estimatePose(h.canvas);case 4:return t=e.sent,a=t.pose,s=t.posenetOutput,e.next=9,O.predict(s);case 9:(i=e.sent)[0].probability.toFixed(2)>.9?("squat"===y&&(C++,P="Success!",n.innerHTML=C,c.innerHTML=P),y="stand"):i[1].probability.toFixed(2)>.9?(y="squat",c.innerHTML="Squat!"):i[2].probability.toFixed(2)>.9&&"squat"!=y?"squat"!==y&&"stand"!==y||(c.innerHTML="Benting...checking pose!"):c.innerHTML=P="Watching... ",M(a);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){if(h.canvas&&(f.drawImage(h.canvas,0,0),e)){S.drawKeypoints(e.keypoints,.5,f),S.drawSkeleton(e.keypoints,.5,f)}}function L(){return(L=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.collection("nweets").add({text:C,createdAt:R.toUTCString(),creatorId:t.uid,nickname:t.displayName,createdTime:Date.now()});case 2:C=0,y="stand",window.location.reload();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){_.collection("nweets").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(E.a)({id:e.id},e.data())}));b(t)}))}),[]),Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"guide_box",children:[Object(g.jsx)("div",{className:"guide1",children:"Step1) Start \ubc84\ud2bc\uc744 \ub20c\ub7ec \uc2a4\ucffc\ud2b8\ub97c \uc2dc\uc791\ud558\uc138\uc694!!"}),Object(g.jsx)("div",{className:"guide2",children:"Step2) \uc67c\ucabd\uc744 \ubc14\ub77c\ubcf4\uace0 \uc815\uc790\uc138\ub85c \uc2a4\ucffc\ud2b8\ub97c \ud558\uc2dc\uba74 \uac2f\uc218\uac00 \uce74\uc6b4\ud2b8\ub429\ub2c8\ub2e4!!"}),Object(g.jsx)("div",{className:"guide3",children:"Step3) \uc6b4\ub3d9\uc744 \ub9c8\uce5c \ud6c4 End\ub97c \ub204\ub9ac\uc2dc\uba74 \ub2f9\uc2e0\uc758 \uae30\ub85d\uc774 \uac31\uc2e0\ub429\ub2c8\ub2e4!!"})]}),Object(g.jsxs)("div",{className:"main_box",children:[Object(g.jsxs)("div",{className:"screen",children:[Object(g.jsx)("button",{type:"button",className:"start",onClick:function(){return A.apply(this,arguments)},children:"Start"}),Object(g.jsx)("button",{type:"button",className:"end",onClick:function(){return L.apply(this,arguments)},children:"End"}),Object(g.jsx)("div",{children:Object(g.jsx)("canvas",{id:"canvas"})})]}),Object(g.jsxs)("div",{className:"score-container",children:[Object(g.jsx)("div",{className:"sentence",children:Object(g.jsx)("span",{id:"sentence",children:P})}),Object(g.jsx)("div",{className:"score",id:"score",children:Object(g.jsx)("span",{id:"sentence",children:C})})]})]}),Object(g.jsx)("div",{className:"addthis_inline_share_toolbox_k4ye"}),Object(g.jsx)("div",{className:"container",children:d.map((function(e){return Object(g.jsx)("div",{style:{marginTop:10},className:"feed",children:Object(g.jsx)("h4",{children:e.nickname+"  did squat totally "+e.text+" counts ("+e.createdAt+")"})},e.id)}))})]})},D=function(e){var t=e.userObj,n=Object(u.f)(),c=Object(a.useState)(t.displayName),s=Object(r.a)(c,2),i=s[0],o=s[1],d=function(){var e=Object(j.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),t.displayName===i){e.next=4;break}return e.next=4,t.updateProfile({displayName:i});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("form",{onSubmit:d,children:[Object(g.jsx)("input",{onChange:function(e){var t=e.target.value;o(t)},type:"text",placeholder:"Display name",value:i}),Object(g.jsx)("input",{type:"submit",value:"Update Profile"}),Object(g.jsx)("button",{onClick:function(){x.signOut(),n.push("/")},children:"Log Out"})]})})},k=function(e){e.userObj;return Object(g.jsx)("nav",{className:"nav",children:Object(g.jsxs)("ul",{style:{display:"flex",justifyContent:"center",marginTop:50},children:[Object(g.jsx)("li",{className:"home_link",children:Object(g.jsx)(o.b,{to:"/",style:{marginRight:10},children:"Home"})}),Object(g.jsx)("li",{className:"profile_link",children:Object(g.jsx)(o.b,{to:"/profile",style:{marginLeft:10,display:"flex",flexDirection:"column",alignItems:"center"},children:"Profile"})})]})})},M=function(e){var t=e.isLoggedIn,n=e.userObj;return Object(g.jsxs)(o.a,{children:[t&&Object(g.jsx)(k,{userObj:n}),Object(g.jsx)(u.c,{children:t?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(u.a,{exact:!0,path:"/",children:Object(g.jsx)(q,{userObj:n})}),Object(g.jsx)(u.a,{exact:!0,path:"/profile",children:Object(g.jsx)(D,{userObj:n})})]}):Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(u.a,{exact:!0,path:"/",children:Object(g.jsx)(A,{})})})})]})};var L=function(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),i=Object(r.a)(s,2),o=i[0],u=i[1],d=Object(a.useState)(null),l=Object(r.a)(d,2),j=l[0],b=l[1];return Object(a.useEffect)((function(){x.onAuthStateChanged((function(e){e?(u(!0),b(e)):u(!1),c(!0)}))}),[]),Object(g.jsx)(g.Fragment,{children:n?Object(g.jsx)(M,{isLoggedIn:o,userObj:j}):"Initializing..."})};n(326);i.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(L,{})}),document.getElementById("root"))}},[[327,1,2]]]);
//# sourceMappingURL=main.f0edf105.chunk.js.map